###############################################################################
#  e-halal-btechenyo  ·  root .htaccess  (Hostinger)
###############################################################################

### 0 ▸ Disable directory listings & follow-symlinks only
Options -Indexes +FollowSymLinks

### 1 ▸ Protect ALL dot-files (.env, .git, .htaccess, etc.)
<FilesMatch "^\.">
    Require all denied
</FilesMatch>

### 2 ▸ Front-controller (pretty URLs)  …/anything → index.php
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.php [QSA,L]

### 3 ▸ Browser caching for static assets
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css                "access plus 7 days"
    ExpiresByType application/javascript  "access plus 7 days"
    ExpiresByType image/jpeg              "access plus 7 days"
    ExpiresByType image/png               "access plus 7 days"
    ExpiresByType image/gif               "access plus 7 days"
    ExpiresByType image/webp              "access plus 7 days"
    ExpiresByType image/svg+xml           "access plus 30 days"
    ExpiresByType font/woff2              "access plus 30 days"
    ExpiresByType font/woff               "access plus 30 days"
    ExpiresByType font/ttf                "access plus 30 days"
</IfModule>

### 4 ▸ Fallback Cache-Control if mod_expires missing
<IfModule !mod_expires.c>
    <IfModule mod_headers.c>
        <FilesMatch "\.(css|js|jpe?g|png|gif|webp|svg)$">
            Header set Cache-Control "max-age=604800, public"
        </FilesMatch>
        <FilesMatch "\.(ttf|woff2?)$">
            Header set Cache-Control "max-age=2592000, public"
        </FilesMatch>
    </IfModule>
</IfModule>

### 5 ▸ Gzip compression (Brotli not enabled on Hostinger shared)
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/javascript
</IfModule>

### 6 ▸ Basic security headers
<IfModule mod_headers.c>
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-XSS-Protection "1; mode=block"
    Header always set X-Content-Type-Options "nosniff"
    # Uncomment after confirming HTTPS works everywhere:
    # Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"
</IfModule>

### 7 ▸ Optional: force HTTPS  (uncomment when SSL installed)
# RewriteCond %{HTTPS} off
# RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]

###############################################################################
#  End
###############################################################################